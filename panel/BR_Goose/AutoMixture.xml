<Gauge Name="AutoMixture" Version="1.0">
    <Comment>
    Simulates the mixture controls by setting the Fuel Air Ration based on mixture position: Idle Cut Off, Auto Lean, Auto Rich, Full Rich.

    https://www.fsdeveloper.com/forum/threads/automatic-mixture-control.436575/#post-736516

        (A:sigma sqrt,number) 4.0 pow 0.65 * 16383 * (&gt;K:mixture_set)

    What that does is sets the mixture to give 0.08 fuel air ratio. It works nicely up to sigma = about 0.6 (16000 ft) Above that it starts to drop down to about 0.07 at around 25,000 ft.

    You could change the 0.65 scalar if you wanted something different than 0.08 FA ratio. 0.65 gives you 65% mixture lever position at sea level which also give 0.08 FA ratio.

    or
    https://www.fsdeveloper.com/forum/threads/automatic-mixture-control.436575/post-740406
    </Comment>

    <Update Frequency="1"/>
    
    <Element>
        <Select>
            <Value>
                <!-- Automixture -->
                <!-- Sigma (density ratio) drives the automixture equations. First, normalize sqrt(sigma) into sigma by the power of 2. -->
                (A:SIGMA SQRT, number) 2 pow s30

                <!-- Left engine lever with four detents: Idle cutoff; Auto lean = FAR ~0.06; auto rich = FAR ~0.08; emergency (full) rich -->
                (A:GENERAL ENG MIXTURE LEVER POSITION:1, percent) 11 &lt;   
                if{ 0 (>K:MIXTURE1_SET) }

                (A:GENERAL ENG MIXTURE LEVER POSITION:1, percent) 51 &lt; 
                if{ l30 3 pow 46.13442 * l30 2 pow 50.55361 * - l30 39.55905 * + 0.5 - 163.83 * (>K:MIXTURE1_SET) }
                
                (A:GENERAL ENG MIXTURE LEVER POSITION:1, percent) 91 &lt; 
                if{ l30 3 pow 84.11033 * l30 2 pow 63.17016 * - l30 45.16123 * + 0.03497 - 163.83 * (>K:MIXTURE1_SET) }
                
                (A:GENERAL ENG MIXTURE LEVER POSITION:1, percent) 99 &lt;   
                if{ 99 163.83 * (>K:MIXTURE1_SET) }

                 <!-- Right engine lever with four detents: Idle cutoff; Auto lean = FAR ~0.06; auto rich = FAR ~0.08; emergency (full) rich -->
                 (A:GENERAL ENG MIXTURE LEVER POSITION:2, percent) 11 &lt;   
                 if{ 0 (>K:MIXTURE1_SET) }
 
                 (A:GENERAL ENG MIXTURE LEVER POSITION:2, percent) 51 &lt; 
                 if{ l30 3 pow 46.13442 * l30 2 pow 50.55361 * - l30 39.55905 * + 0.5 - 163.83 * (>K:MIXTURE1_SET) }
                 
                 (A:GENERAL ENG MIXTURE LEVER POSITION:2, percent) 91 &lt; 
                 if{ l30 3 pow 84.11033 * l30 2 pow 63.17016 * - l30 45.16123 * + 0.03497 - 163.83 * (>K:MIXTURE1_SET) }
                 
                 (A:GENERAL ENG MIXTURE LEVER POSITION:2, percent) 99 &lt;   
                 if{ 99 163.83 * (>K:MIXTURE1_SET) }

            </Value>
        </Select>
    </Element>

</Gauge>